<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>注册全局组件type | so-form</title>
    <meta name="description" content="也许是vue最好用的表单组件">
    <link rel="icon" href="/so-form/favicon.ico">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    
    <link rel="preload" href="/so-form/assets/css/styles.612b588a.css" as="style"><link rel="preload" href="/so-form/assets/js/app.612b588a.js" as="script"><link rel="preload" href="/so-form/assets/js/26.416d1bbb.js" as="script"><link rel="preload" href="/so-form/assets/css/styles.612b588a.css" as="style"><link rel="preload" href="/so-form/assets/js/12.09e429b9.js" as="script"><link rel="prefetch" href="/so-form/assets/css/1.styles.01e9be0f.css"><link rel="prefetch" href="/so-form/assets/css/2.styles.087edb01.css"><link rel="prefetch" href="/so-form/assets/css/3.styles.b3309ac3.css"><link rel="prefetch" href="/so-form/assets/css/4.styles.442786d8.css"><link rel="prefetch" href="/so-form/assets/css/6.styles.ebeb0490.css"><link rel="prefetch" href="/so-form/assets/js/1.01e9be0f.js"><link rel="prefetch" href="/so-form/assets/js/10.26467f35.js"><link rel="prefetch" href="/so-form/assets/js/11.04827428.js"><link rel="prefetch" href="/so-form/assets/js/13.6aad764a.js"><link rel="prefetch" href="/so-form/assets/js/14.0b71c61f.js"><link rel="prefetch" href="/so-form/assets/js/15.29c0fb34.js"><link rel="prefetch" href="/so-form/assets/js/16.2a29e88b.js"><link rel="prefetch" href="/so-form/assets/js/17.42a97bdd.js"><link rel="prefetch" href="/so-form/assets/js/18.d627125c.js"><link rel="prefetch" href="/so-form/assets/js/19.f7f0a87c.js"><link rel="prefetch" href="/so-form/assets/js/2.087edb01.js"><link rel="prefetch" href="/so-form/assets/js/20.2d581e45.js"><link rel="prefetch" href="/so-form/assets/js/21.5110891e.js"><link rel="prefetch" href="/so-form/assets/js/22.01a02add.js"><link rel="prefetch" href="/so-form/assets/js/23.5008d0d9.js"><link rel="prefetch" href="/so-form/assets/js/24.6b393c38.js"><link rel="prefetch" href="/so-form/assets/js/25.a3f6787e.js"><link rel="prefetch" href="/so-form/assets/js/27.3438173f.js"><link rel="prefetch" href="/so-form/assets/js/28.0796c2c7.js"><link rel="prefetch" href="/so-form/assets/js/29.c78f32a3.js"><link rel="prefetch" href="/so-form/assets/js/3.b3309ac3.js"><link rel="prefetch" href="/so-form/assets/js/4.442786d8.js"><link rel="prefetch" href="/so-form/assets/js/5.a3534463.js"><link rel="prefetch" href="/so-form/assets/js/6.ebeb0490.js"><link rel="prefetch" href="/so-form/assets/js/7.103a2840.js"><link rel="prefetch" href="/so-form/assets/js/8.91ec8765.js"><link rel="prefetch" href="/so-form/assets/js/9.eda652c6.js">
    <link rel="stylesheet" href="/so-form/assets/css/1.styles.01e9be0f.css"><link rel="stylesheet" href="/so-form/assets/css/2.styles.087edb01.css"><link rel="stylesheet" href="/so-form/assets/css/3.styles.b3309ac3.css"><link rel="stylesheet" href="/so-form/assets/css/4.styles.442786d8.css"><link rel="stylesheet" href="/so-form/assets/css/6.styles.ebeb0490.css"><link rel="stylesheet" href="/so-form/assets/css/styles.612b588a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><section><header id="navbar" class="navbar has-shadow is-fixed-top"><div class="navbar-brand"><a href="/so-form/" class="navbar-item router-link-active"><img src="/so-form/logo.png" class="logo"> <span class="site-name">
        so-form
      </span></a> <a role="button" data-target="navMenu" aria-label="menu" aria-expanded="false" class="navbar-burger"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></a></div> <div id="navMenu" class="navbar-menu"><!----> <nav class="navbar-start"><a href="/so-form/" class="navbar-item"><span class="icon is-medium"><i class="fa fa-home fa-lg"></i></span> <span>首页</span></a><a href="/so-form/docs/" class="navbar-item router-link-active"><span class="icon is-medium"><i class="fa fa-book fa-lg"></i></span> <span>文档</span></a><!----> <!----><!----><!----></nav> <div class="menu"> <ul class="menu-list"><li><div class="sidebar-group first"><p class="sidebar-heading"><span class="icon has-text-warning"><i class="fas fa-star"></i></span> <span>快速上手</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/so-form/docs/" class="sidebar-link">安装</a></li><li><a href="/so-form/docs/started/started.html" class="sidebar-link">快速上手</a></li><li><a href="/so-form/docs/started/component-list.html" class="sidebar-link">目前支持组件</a></li><li><a href="/so-form/docs/started/rename-component.html" class="sidebar-link">重命名全局组件</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><!----> <span>基本使用</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/so-form/docs/usage/linkage.html" class="sidebar-link">基础表单</a></li><li><a href="/so-form/docs/usage/usual-demo.html" class="sidebar-link">常用demo</a></li><li><a href="/so-form/docs/usage/act.html" class="sidebar-link">联动</a></li><li><a href="/so-form/docs/usage/validate.html" class="sidebar-link">校验</a></li><li><a href="/so-form/docs/usage/status.html" class="sidebar-link">状态控制</a></li><li><a href="/so-form/docs/usage/global-custom-component.html" class="active sidebar-link">注册全局组件type</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><!----> <span>组件标准</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/so-form/docs/standard/form-config.html" class="sidebar-link">iForm配置</a></li><li><a href="/so-form/docs/standard/form-item-config.html" class="sidebar-link">iFormItem配置</a></li><li><a href="/so-form/docs/standard/form-rows-config.html" class="sidebar-link">iFormRows配置</a></li></ul></div></li></ul> </div> <div class="navbar-end"><!----> <!----><!----><a href="https://github.com/ws456999/so-form" target="_blank" rel="noopener noreferrer" class="navbar-item external"><span class="icon is-medium"><i class="fab fa-lg fa-github"></i></span> <span>github</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <!----></div></div></header> <div class="sidebar-mask"></div> <!----> <div class="menu is-hidden-touch"> <ul class="menu-list"><li><div class="sidebar-group first"><p class="sidebar-heading"><span class="icon has-text-warning"><i class="fas fa-star"></i></span> <span>快速上手</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/so-form/docs/" class="sidebar-link">安装</a></li><li><a href="/so-form/docs/started/started.html" class="sidebar-link">快速上手</a></li><li><a href="/so-form/docs/started/component-list.html" class="sidebar-link">目前支持组件</a></li><li><a href="/so-form/docs/started/rename-component.html" class="sidebar-link">重命名全局组件</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><!----> <span>基本使用</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/so-form/docs/usage/linkage.html" class="sidebar-link">基础表单</a></li><li><a href="/so-form/docs/usage/usual-demo.html" class="sidebar-link">常用demo</a></li><li><a href="/so-form/docs/usage/act.html" class="sidebar-link">联动</a></li><li><a href="/so-form/docs/usage/validate.html" class="sidebar-link">校验</a></li><li><a href="/so-form/docs/usage/status.html" class="sidebar-link">状态控制</a></li><li><a href="/so-form/docs/usage/global-custom-component.html" class="active sidebar-link">注册全局组件type</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><!----> <span>组件标准</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/so-form/docs/standard/form-config.html" class="sidebar-link">iForm配置</a></li><li><a href="/so-form/docs/standard/form-item-config.html" class="sidebar-link">iFormItem配置</a></li><li><a href="/so-form/docs/standard/form-rows-config.html" class="sidebar-link">iFormRows配置</a></li></ul></div></li></ul> </div> <main><section id="content" class="section"><div class="container has-sidebar"> <!----> <!----> <div class="content"><h2 id="注册全局组件type"><a href="#注册全局组件type" aria-hidden="true" class="header-anchor">#</a> 注册全局组件type</h2> <p>在复杂业务中，不可避免会有很多个性化的需求，需要个性化的组件，so-form提供了注册全局自定义组件的能力，能够应付各种场景。</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>ps: 组件双向数据绑定能力跟组件的各种状态都需要自行编写</p></div> <div class="con-box"><div class="box"><div class="con-vuecode shadow-vc"><div class="con-demo"><header class="header"><div class="con-h2"><h2></h2></div><div class="con-menu-vc"><ul><li class="btn-code flaticon2-code-vc"></li><!----><!----><!----></ul></div></header><div class="demo"><div><form label-width="100px" model="[object Object]" class="el-form"><div><div label="全局组件" name="job" type="customComponent" class="el-form-item"><label for="job" class="el-form-item__label" style="width:100px;">全局组件</label><div class="el-form-item__content" style="margin-left:100px;"><div class="formm-wrapped_flex"><div class="formm-wrapped_div"><div><input type="text"></div></div></div><!----></div></div></div></form></div></div><div class="con-code content-vc" style="display:none;"><div><div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">//  main.js 内</span>
  Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>qform<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    source<span class="token punctuation">:</span> Element<span class="token punctuation">,</span>
    <span class="token comment">// 注册全局组件type</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      customComponent<span class="token punctuation">:</span> custom
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">custom</span> <span class="token punctuation">(</span>h<span class="token punctuation">,</span> props<span class="token punctuation">,</span> vm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 通过 vm.$emit('input')，提供双向数据绑定的能力</span>
    <span class="token comment">// 具体原理可以看： https://cn.vuejs.org/v2/guide/render-function.html#v-model</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> onInput<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

</code></pre></div><hr> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iForm</span> <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>model<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iFormRows</span> <span class="token attr-name">:rows</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>rows<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iFormRows</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iForm</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'app'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      model<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        job<span class="token punctuation">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">rows</span> <span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
          <span class="token comment">// name不写也无妨</span>
          <span class="token punctuation">{</span> label<span class="token punctuation">:</span> <span class="token string">'全局组件'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'job'</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token string">'customComponent'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div></div></div></div></div></div></div> <div class="page-nav"><a href="/so-form/docs/usage/status.html" title="状态控制" class="button is-hidden-touch is-text is-none-decoration is-left is-pagination has-text-link"><i class="fas fa-chevron-left"></i></a> <a href="/so-form/docs/standard/form-config.html" title="iForm配置" class="button is-hidden-touch is-text is-none-decoration is-right is-pagination has-text-link"><i class="fas fa-chevron-right"></i></a></div> <hr> <!----> </div></section></main></section></div>
    <script src="/so-form/assets/js/26.416d1bbb.js" defer></script><script src="/so-form/assets/js/12.09e429b9.js" defer></script><script src="/so-form/assets/js/app.612b588a.js" defer></script>
  </body>
</html>
